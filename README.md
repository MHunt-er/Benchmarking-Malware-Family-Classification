# Malware Family Classification Methods

## Datasets
Because of copyright issues, both the MalwareBazaar dataset and the MalwareDrift dataset just contain the malware SHA-256 hash. But you can download these samples from the open-source malware release websites by applying an api-key.  
* **The MalwareBazaar dataset** : you can download the samples from the MalwareBazaar website.  
* **The MalwareDrift dataset** : you can download the samples from the VirusShare website.

## Experimental Settings
|     Model    | Training Strategy | Optimizer | Learning Rate | Batch Size |                      Input Format                     |
|:------------:|:-----------------:|:---------:|:-------------:|:----------:|:-----------------------------------------------------:|
|   ResNet-50  |    From Scratch   |    Adam   |      1e-3     |     64     |                  224*224 color image                  |
|   ResNet-50  |      Transfer     |    Adam   |      1e-3     |  All data* |                  224*224 color image                  |
|    VGG-16    |    From Scratch   |    SGD    |     5e-6**    |     64     |                  224*224 color image                  |
|    VGG-16    |      Transfer     |    SGD    |      5e-6     |     64     |                  224*224 color image                  |
| Inception-V3 |    From Scratch   |    Adam   |      1e-3     |     64     |                  224*224 color image                  |
| Inception-V3 |      Transfer     |    Adam   |      1e-3     |  All data  |                  224*224 color image                  |
|     IMCFN    |    From Scratch   |    SGD    |    5e-6***    |     32     |                  224*224 color image                  |
|     IMCFN    |      Transfer     |    SGD    |    5e-6***    |     32     |                  224*224 color image                  |
|   CBOW+MLP   |         -         |    SGD    |      1e-3     |     128    |       CBOW: byte sequences; MLP: 256*256 matrix       |
|    MalConv   |         -         |    SGD    |      1e-3     |     32     |                  2MB raw byte values                  |
|     MAGIC    |         -         |    Adam   |      1e-4     |     10     |                          ACFG                         |
| Word2Vec+KNN |         -         |     -     |       -       |      -     | Word2Vec: Opcode sequences; KNN distance measure: WMD |
|     MCSC     |         -         |    SGD    |      5e-3     |     64     |                    Opcode sequences                   |
  
\* The batch size is set to `128` for the MalwareBazaar dataset  
\** The learning rate is set to `5e-5` for the Malimg dataset and `1e-5` for the MalwareBazaar dataset  
\*** The learning rate is set to `1e-5` for the MalwareBazaar dataset  
CBOW is with default parameters in the Word2Vec package in the Gensim library of Python  


## Graphically Analysis of Table 4 and Table 5
- **Table 4** 
 
    - **The performance (F1-Score) of each model on three datasets**
![overall comparison](https://github.com/MHunt-er/Benchmarking-Malware-Family-Classification/blob/main/Graphically%20Analysis%20of%20Table%204%20and%20Table%205/table_4_1.png) 

    - **The average performance (F1-Score) of each model**
![average performance](https://github.com/MHunt-er/Benchmarking-Malware-Family-Classification/blob/main/Graphically%20Analysis%20of%20Table%204%20and%20Table%205/table_4_2.png) 

* **Table 5**
    - **The performance (F1-Score) of transfer learning for image-based approaches on three datasets**
![transfer learning](https://github.com/MHunt-er/Benchmarking-Malware-Family-Classification/blob/main/Graphically%20Analysis%20of%20Table%204%20and%20Table%205/table_5_performance.png)




